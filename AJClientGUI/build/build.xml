<?xml version="1.0"?>
<!DOCTYPE project []>
<project name="jVideobase" default="help" basedir="..">

   <!-- component directories ... -->
   <property name="srcdir"      location="${basedir}/src"/>
   <property name="compiledir"  location="${basedir}/classes"/>

   <!-- other path settings, some items to be customized locally ...  -->
   <property name="junit.jar"            location="${basedir}/tools/junit.jar"/>
   <property name="looks-1.2.1.jar"            location="${basedir}/tools/looks-1.2.1.jar"/>
   <property name="mm.mysql-2.0.14-bin.jar"            location="${basedir}/tools/mm.mysql-2.0.14-bin.jar"/>

   <!-- classpath for compilation ... -->
   <path id="lib.path">
      <pathelement location="${junit.jar}"/>
      <pathelement location="${looks-1.2.1.jar}"/>
      <pathelement location="${mm.mysql-2.0.14-bin.jar}"/>
   </path>

   <!-- remove class files, DavaDoc files and test results ... -->
   <target name="clean" description="deletes class files">
      <delete includeEmptyDirs="true">
         <fileset dir="${compiledir}" casesensitive="false">
            <include name="**/*.class"/>
            <exclude name="cvs"/>
            <exclude name="readme.txt"/>
            </fileset>
      </delete>
   </target>

   <target name="compile" description="compiles the appleJuice-gui">
      <javac srcdir="${srcdir}" destdir="${compiledir}" debug="true">
         <classpath>
          <path refid="lib.path"/>
         </classpath>
      </javac>
   </target>

   <target name="rebuild" depends="clean, compile" description="cleans and compiles the jVideobase">
   </target>

   <target name="cruisecontrol">
      <cvs dest="${basedir}" command="update -d -P"/>
      <antcall target="rebuild"/>
   </target>

   <target name="create-jar" depends="rebuild" description="builds appleJuice-jar">
	<jar destfile="${basedir}/jVideobase.jar"
		basedir="${compiledir}"
		includes="de/**"
		index="true">
	    <manifest>
	       <attribute name="Built-By" value="${user.name}"/>
      		<attribute name="Class-Path" value="./tools/looks-1.2.1.jar ./tools/mm.mysql-2.0.14-bin.jar"/>
      		<attribute name="Main-Class" value="de.tklsoft.jvideobase.JVideobase"/>
	    </manifest>
	</jar>
   </target>

   <target name="complete" depends="create-jar" description="builds complete jVideobase">
   </target>
</project>
